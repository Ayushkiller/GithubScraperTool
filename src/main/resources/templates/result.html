<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Analysis Result</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        h1 { color: #333; }
        table { border-collapse: collapse; width: 100%; }
        th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
        th { background-color: #f2f2f2; }
    </style>
</head>
<body>
    <h1>Analysis Result</h1>
    
    <div th:if="${result}">
        <h2>Username: <span th:text="${result.username}"></span></h2>
        
        <h3>Repositories:</h3>
        <table>
            <tr><th>Name</th><th>Description</th><th>Language</th><th>Stars</th><th>forksCount</th><th>Open Issues</th><th>Created At</th><th>Last Updated</th></tr>
            <tr th:each="repo : ${result.repositories}">
                <td th:text="${repo.name}"></td>
                <td th:text="${repo.description ?: '(No description)' }"></td>
                <td th:text="${repo.language ?: '(Unknown)' }"></td>
                <td th:text="${repo.watchers}"></td>
                <span th:text="${repo.forksCount}">Forks Count</span>
                <td th:text="${repo.openIssueCount}"></td>
                <td th:text="${repo.createdAt}"></td>
                <td th:text="${repo.updatedAt}"></td>
            </tr>
        </table>
        
        <h3>Most Complex Repository:</h3>
        <dl>
            <dt>Name:</dt><dd th:text="${result.mostComplexRepository.name}"></dd>
            <dt>Description:</dt><dd th:text="${result.mostComplexRepository.description ?: '(No description)' }"></dd>
            <dt>Language:</dt><dd th:text="${result.mostComplexRepository.language ?: '(Unknown)' }"></dd>
            <dt>Stars:</dt><dd th:text="${result.mostComplexRepository.watchers}"></dd>
            <dt>forksCount:</dt><dd th:text="${result.mostComplexRepository.forksCount}"></dd>
            <dt>Open Issues:</dt><dd th:text="${result.mostComplexRepository.openIssueCount}"></dd>
            <dt>Created At:</dt><dd th:text="${result.mostComplexRepository.createdAt}"></dd>
            <dt>Last Updated:</dt><dd th:text="${result.mostComplexRepository.updatedAt}"></dd>
            <dt>Complexity Score:</dt><dd th:text="${result.complexityScore}"></dd>
        </dl>
    </div>
    
    <div th:unless="${result}">
        <p>No analysis result found.</p>
    </div>
    
    <p><a href="/">Back to Home</a></p>
</body>
</html>